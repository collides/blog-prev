<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="专注 WEB 开发的技术博客"><title>react全局变量 | yunhui's Blog</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">react全局变量</h1><a id="logo" href="/.">yunhui's Blog</a><p class="description">学习弯道超车的技巧！</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">react全局变量</h1><div class="post-meta"><a href="/2018/01/02/react全局变量/#comments" class="comment-count"></a><p><span class="date">Jan 02, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="在FiberScheduler中的全局变量"><a href="#在FiberScheduler中的全局变量" class="headerlink" title="在FiberScheduler中的全局变量"></a>在FiberScheduler中的全局变量</h1><h3 id="expirationContext"><a href="#expirationContext" class="headerlink" title="expirationContext"></a>expirationContext</h3><p>保存创建<strong>expirationContext</strong>的上下文，在<strong>syncUpdates</strong>和<strong>deferredUpdates</strong>中分别被设置为<strong>sync</strong>和<strong>AsyncExpirationTime</strong>，在有这个上下文的时候任何更新计算出来的过期时间都等于<strong>expirationContext</strong>。</p>
<p>比如调用ReactDom.flushSync的时候，他接受的回调中的setState.</p>
<h3 id="isWorking"><a href="#isWorking" class="headerlink" title="isWorking"></a>isWorking</h3><p><strong>commitRoot</strong>和<strong>renderRoot</strong>开始都会为设置为true，然后在他们各自阶段结束的时候都重置为false。</p>
<p><strong>用来标志是否当前有更新正在进行，不区分阶段</strong></p>
<h3 id="isCommitting"><a href="#isCommitting" class="headerlink" title="isCommitting"></a>isCommitting</h3><p><strong>commitRoot</strong>开头设置为true，结束之后设置为false。</p>
<p><strong>用来标志是否处于commit阶段</strong></p>
<h3 id="nextUnitOfWork"><a href="#nextUnitOfWork" class="headerlink" title="nextUnitOfWork"></a>nextUnitOfWork</h3><p>用于记录render阶段Fiber tree遍历过程中下一个需要执行的节点。</p>
<p>在<strong>resetStack</strong>中分别被重置</p>
<p>他只会指向workInProgress</p>
<h3 id="nextRoot-amp-nextRenderExpirationTime"><a href="#nextRoot-amp-nextRenderExpirationTime" class="headerlink" title="nextRoot &amp; nextRenderExpirationTime"></a>nextRoot &amp; nextRenderExpirationTime</h3><p>用于记录下一个将要渲染的root节点和下一个要渲染的任务的。</p>
<p>在<strong>renderRoot</strong>开始的时候赋值，需要符合如下条件才会重新赋值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">if (</span><br><span class="line">  expirationTime !== nextRenderExpirationTime ||</span><br><span class="line">  root !== nextRoot ||</span><br><span class="line">  nextUnitOfWork === null</span><br><span class="line">) &#123;</span><br><span class="line">  resetStack()</span><br><span class="line">  nextRoot = root</span><br><span class="line">  nextRenderExpirationTime = expirationTime</span><br><span class="line">  nextUnitOfWork = createWorkInProgress(</span><br><span class="line">    nextRoot.current,</span><br><span class="line">    null,</span><br><span class="line">    nextRenderExpirationTime,</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解释一下就是说，只有这一次调用renderRoot的时候，有</p>
<ul>
<li>新的root要渲染</li>
<li>相同root但是任务有不同优先级的任务要渲染</li>
<li>或者在老的任务上没有下一个节点需要渲染了  </li>
</ul>
<h3 id="nextLatestAbsoluteTimeoutMs"><a href="#nextLatestAbsoluteTimeoutMs" class="headerlink" title="nextLatestAbsoluteTimeoutMs"></a>nextLatestAbsoluteTimeoutMs</h3><p>用来记录<strong>Suspense</strong>组件何时重新尝试渲染，涉及复杂的公式这里就不详细说了。、</p>
<h3 id="nextRenderDidError"><a href="#nextRenderDidError" class="headerlink" title="nextRenderDidError"></a>nextRenderDidError</h3><p>用于记录当前render流程是否有错误产生</p>
<p><strong>resetStack</strong>重置为false</p>
<p>在<strong>throwException</strong>中如果发现了不能直接处理的错误(除了Promise之外)，那么就调用renderDIdError设置为true.</p>
<h3 id="nextEffect"><a href="#nextEffect" class="headerlink" title="nextEffect"></a>nextEffect</h3><p>用于commit阶段记录firstEffct -&gt; lastEffect 链遍历过程中的每一个fiber</p>
<h3 id="interruptedBy"><a href="#interruptedBy" class="headerlink" title="interruptedBy"></a>interruptedBy</h3><p>给开发工具用的，用来展示被哪个节点打断了异步任务</p>
<h1 id="跟调度有关的全局变量"><a href="#跟调度有关的全局变量" class="headerlink" title="跟调度有关的全局变量"></a>跟调度有关的全局变量</h1><blockquote>
<p>ReactFiberScheduler.js 1797-1826</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">// Linked-list of roots</span><br><span class="line">let firstScheduledRoot: FiberRoot | null = null</span><br><span class="line">let lastScheduledRoot: FiberRoot | null = null</span><br><span class="line"></span><br><span class="line">let callbackExpirationTime: ExpirationTime = NoWork</span><br><span class="line">let callbackID: *</span><br><span class="line">let isRendering: boolean = false</span><br><span class="line">let nextFlushedRoot: FiberRoot | null = null</span><br><span class="line">let nextFlushedExpirationTime: ExpirationTime = NoWork</span><br><span class="line">let lowestPriorityPendingInteractiveExpirationTime: ExpirationTime = NoWork</span><br><span class="line">let deadlineDidExpire: boolean = false</span><br><span class="line">let hasUnhandledError: boolean = false</span><br><span class="line">let unhandledError: mixed | null = null</span><br><span class="line">let deadline: Deadline | null = null</span><br><span class="line"></span><br><span class="line">let isBatchingUpdates: boolean = false</span><br><span class="line">let isUnbatchingUpdates: boolean = false</span><br><span class="line">let isBatchingInteractiveUpdates: boolean = false</span><br><span class="line"></span><br><span class="line">let completedBatches: Array&lt;Batch&gt; | null = null</span><br><span class="line"></span><br><span class="line">let originalStartTimeMs: number = now()</span><br><span class="line">let currentRendererTime: ExpirationTime = msToExpirationTime(</span><br><span class="line">  originalStartTimeMs,</span><br><span class="line">)</span><br><span class="line">let currentSchedulerTime: ExpirationTime = currentRendererTime</span><br><span class="line"></span><br><span class="line">// Use these to prevent an infinite loop of nested updates</span><br><span class="line">const NESTED_UPDATE_LIMIT = 50</span><br><span class="line">let nestedUpdateCount: number = 0</span><br><span class="line">let lastCommittedRootDuringThisBatch: FiberRoot | null = null</span><br></pre></td></tr></table></figure>
<h3 id="firstScheduledRoot-amp-lastScheduledRoot"><a href="#firstScheduledRoot-amp-lastScheduledRoot" class="headerlink" title="firstScheduledRoot&amp;lastScheduledRoot"></a>firstScheduledRoot&amp;lastScheduledRoot</h3><p>用于存放有任务的所有root的单链表结构</p>
<ul>
<li>在findHighestPriorityRoot用来检测优先级最高的root</li>
<li>在addRootToSchedule中会修改</li>
</ul>
<p>在findHighestPriorityRoot中会判断root的expirationTime，并不会直接shanchuroot</p>
<h3 id="callbackExpirationTime-amp-callbackID"><a href="#callbackExpirationTime-amp-callbackID" class="headerlink" title="callbackExpirationTime&amp;callbackID"></a>callbackExpirationTime&amp;callbackID</h3><p>记录请求 ReactScheduler 的时候用的过期时间，如果在一次调度期间有新的调度请求进来了，而且优先级更高，那么就需要取消上一次请求，如果更低则无需再次请求调度.</p>
<p>callbackID是ReactScheduler返回用于取消调度的ID</p>
<h3 id="isRendering"><a href="#isRendering" class="headerlink" title="isRendering"></a>isRendering</h3><p>performWorkOnRoot开始为true,结束的时候设置为false，表示进入渲染阶段，这是包含render和commit阶段的。</p>
<h3 id="nextFlushedRoot-amp-nextFlushedExpirationTime"><a href="#nextFlushedRoot-amp-nextFlushedExpirationTime" class="headerlink" title="nextFlushedRoot&amp;nextFlushedExpirationTime"></a>nextFlushedRoot&amp;nextFlushedExpirationTime</h3><p>用来标志下一个需要渲染的root和对应的expirationTime，注意：</p>
<ul>
<li>通过findHighestPrirityRoot找到最高优先级的</li>
<li>通过flushRoot会直接设置指定的，不进行筛选</li>
</ul>
<h3 id="lowestPriorityPendingInteractiveExpirationTime"><a href="#lowestPriorityPendingInteractiveExpirationTime" class="headerlink" title="lowestPriorityPendingInteractiveExpirationTime"></a>lowestPriorityPendingInteractiveExpirationTime</h3><p>类似expirationContext，用来存储interactiveUpdates产量的最小的expirationTime，在下一次外部指定的interactiveUpdates情况下会强制输出上一次的interactiveUpdates情况下会强制输出上一次的interactiveUpdates，因为interativeUpdates主要是用户输入之类的操作，如果不及时输出会给用户造成断层感</p>
<p>可以通过调用ReactDom.unstable_interactiveUpdates来实现以上目的</p>
<h3 id="deadline-amp-deadlineDidExpire"><a href="#deadline-amp-deadlineDidExpire" class="headerlink" title="deadline &amp; deadlineDidExpire"></a>deadline &amp; deadlineDidExpire</h3><p>deadline 是 ReactScheduler中返回的时间片调度信息对象</p>
<p>用于记录是否时间片调度是否过期，在shouldYield根据deadline是否过期来设置</p>
<h3 id="hasUnhandledError-amp-unhandledError"><a href="#hasUnhandledError-amp-unhandledError" class="headerlink" title="hasUnhandledError&amp;unhandledError"></a>hasUnhandledError&amp;unhandledError</h3><p>Profiler调试相关</p>
<h3 id="isBatchingUpdates-amp-isUnbatchingUpdates-amp-isBatchingInterativeUpdates"><a href="#isBatchingUpdates-amp-isUnbatchingUpdates-amp-isBatchingInterativeUpdates" class="headerlink" title="isBatchingUpdates&amp;isUnbatchingUpdates&amp;isBatchingInterativeUpdates"></a>isBatchingUpdates&amp;isUnbatchingUpdates&amp;isBatchingInterativeUpdates</h3><p><strong>batcheduPdates、unBatchedUpdates、deferredUpdates、interactiveUpdates</strong>等这些方法用来存储更新产生上下文的变量</p>
<h3 id="originalStartTimeMs"><a href="#originalStartTimeMs" class="headerlink" title="originalStartTimeMs"></a>originalStartTimeMs</h3><p>固定值，js加载完一开始计算的结果</p>
<h3 id="currentRendererTime-amp-currentSchedulerTime"><a href="#currentRendererTime-amp-currentSchedulerTime" class="headerlink" title="currentRendererTime&amp;currentSchedulerTime"></a>currentRendererTime&amp;currentSchedulerTime</h3><p>计算从页面加载到现在为止的毫秒数，后者会在isRendering === true的时候作为固定值返回，不然每次requestCurrentTime都会重新计算新的时间。</p>
<h3 id="nestedUpdateCount-amp-lastCommittedRootDuringThisBatch"><a href="#nestedUpdateCount-amp-lastCommittedRootDuringThisBatch" class="headerlink" title="nestedUpdateCount&amp;lastCommittedRootDuringThisBatch"></a>nestedUpdateCount&amp;lastCommittedRootDuringThisBatch</h3><p>用来记录是否有嵌套得再生命周期方法中产生更新导致应用无限循环更新的计数器，用于提醒用户书写的不正确代码。</p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2018/01/03/js严格模式/" class="pre">js严格模式</a><a href="/2017/12/28/Js连等赋值/" class="next">Js连等赋值</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#在FiberScheduler中的全局变量"><span class="toc-text">在FiberScheduler中的全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#expirationContext"><span class="toc-text">expirationContext</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isWorking"><span class="toc-text">isWorking</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isCommitting"><span class="toc-text">isCommitting</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextUnitOfWork"><span class="toc-text">nextUnitOfWork</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextRoot-amp-nextRenderExpirationTime"><span class="toc-text">nextRoot &amp; nextRenderExpirationTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextLatestAbsoluteTimeoutMs"><span class="toc-text">nextLatestAbsoluteTimeoutMs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextRenderDidError"><span class="toc-text">nextRenderDidError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextEffect"><span class="toc-text">nextEffect</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#interruptedBy"><span class="toc-text">interruptedBy</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#跟调度有关的全局变量"><span class="toc-text">跟调度有关的全局变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#firstScheduledRoot-amp-lastScheduledRoot"><span class="toc-text">firstScheduledRoot&amp;lastScheduledRoot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#callbackExpirationTime-amp-callbackID"><span class="toc-text">callbackExpirationTime&amp;callbackID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isRendering"><span class="toc-text">isRendering</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nextFlushedRoot-amp-nextFlushedExpirationTime"><span class="toc-text">nextFlushedRoot&amp;nextFlushedExpirationTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#lowestPriorityPendingInteractiveExpirationTime"><span class="toc-text">lowestPriorityPendingInteractiveExpirationTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#deadline-amp-deadlineDidExpire"><span class="toc-text">deadline &amp; deadlineDidExpire</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hasUnhandledError-amp-unhandledError"><span class="toc-text">hasUnhandledError&amp;unhandledError</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#isBatchingUpdates-amp-isUnbatchingUpdates-amp-isBatchingInterativeUpdates"><span class="toc-text">isBatchingUpdates&amp;isUnbatchingUpdates&amp;isBatchingInterativeUpdates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#originalStartTimeMs"><span class="toc-text">originalStartTimeMs</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#currentRendererTime-amp-currentSchedulerTime"><span class="toc-text">currentRendererTime&amp;currentSchedulerTime</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nestedUpdateCount-amp-lastCommittedRootDuringThisBatch"><span class="toc-text">nestedUpdateCount&amp;lastCommittedRootDuringThisBatch</span></a></li></ol></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/03/网络相关总结(2)/">网络相关(2)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/深入浏览器理解CSS animations 和transitions的性能问题/">深入浏览器理解css动画和过渡</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/01/网络相关总结(1)/">网络相关(1)</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/21/移动端适配/">移动端适配</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/20/Http缓存机制/">Http缓存机制</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/07/数据结构相关/">数据结构</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/03/js严格模式/">js严格模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/02/react全局变量/">react全局变量</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/28/Js连等赋值/">Js连等赋值</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/26/常见的Http状态码/">常见的Http状态码</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">十二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">张云辉.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>